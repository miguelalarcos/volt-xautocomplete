<:Body>
  <span class="autocomplete">
  <input type="text" e-keydown="down event" value="{{self.query}}" />    
    {{if autocomplete.first.value != self.query and self.query != ''}}
       <div class="autocomplete-popover">
       {{autocomplete.each_with_index do |val, i|}}
           {{if attrs.template.nil?}}
                <div e-click="self.query=val" class="{{selected? i}}">{{val}}</div>
           {{else}}
                <div e-click="self.query=val" class="{{selected? i}}">{{view attrs.template, {val: val} }}</div>
            {{end}}
       {{end}}
       </div>
    {{end}}
  </span> 

